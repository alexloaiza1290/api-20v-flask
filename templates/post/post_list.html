{% extends "base.html" %}
{% block content %}
  <h1>Lista de Posts</h1>
  <a href="{{ url_for('create_one_post') }}" class="btn btn-success mb-3">Crear nuevo post</a>

  {% if posts_list %}
    <ul class="list-group">
      {% for p in posts_list %}
        <li class="list-group-item">
          <h5>{{ p['title'] }}</h5>
          <p>{{ p['content'][:100] }}...</p>
          <a href="{{ url_for('get_one_post', post_id=p['id']) }}" class="btn btn-sm btn-primary">Ver</a>
          <a href="{{ url_for('edit_one_post', post_id=p['id']) }}" class="btn btn-sm btn-warning">Editar</a>
          <form action="{{ url_for('delete_one_post', post_id=p['id']) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-danger">Eliminar</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No hay posts a√∫n.</p>
  {% endif %}
{% endblock %}